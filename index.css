@import "tailwindcss";

@theme {
    --font-sans: "Outfit", ui-sans-serif, system-ui, sans-serif;
    --font-mono: "JetBrains Mono", ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;
}

/* Podpora pro .dark třídu v Tailwind 4 */
@variant dark (&:where(.dark, .dark *));

:root {
    --bg-color: #f4f7f9;
    --text-color: #1a1d21;
    --glass-bg: rgba(255, 255, 255, 0.85);
    --glass-border: rgba(0, 0, 0, 0.1);
    --safe-area-bottom: env(safe-area-inset-bottom, 0px);

    /* Custom Tech Green Palette based on #69C350 - Enhanced Contrast */
    --green-300: #B8F5A3;
    /* Brighter for dark mode text */
    --green-400: #95E87D;
    /* More vibrant accent */
    --green-500: #7BD462;
    /* Slightly brighter mid-tone */
    --green-600: #69C350;
    /* Primary - unchanged */
    --green-700: #4BA038;
    /* Darker for hover states */
    --green-800: #3D8A2D;
    /* Even darker for strong contrast */
}

.dark {
    --bg-color: #050505;
    --text-color: #ffffff;
    --glass-bg: rgba(10, 10, 10, 0.9);
    /* Slightly darker and more opaque for better contrast */
    --glass-border: rgba(255, 255, 255, 0.15);
}

@layer base {
    body {
        @apply font-sans antialiased;
        background-color: var(--bg-color);
        color: var(--text-color);
        transition: background-color 0.5s ease, color 0.5s ease;
    }

    button,
    a,
    [role="button"] {
        cursor: pointer;
        outline: none;
    }

    button:focus,
    a:focus,
    [role="button"]:focus {
        outline: none;
    }

    /* Hide number input spinners globally */
    input::-webkit-outer-spin-button,
    input::-webkit-inner-spin-button {
        -webkit-appearance: none;
        margin: 0;
    }

    input[type=number] {
        -moz-appearance: textfield;
        appearance: textfield;
    }
}

@layer components {
    .glass-panel {
        background: var(--glass-bg);
        border: 1px solid var(--glass-border);
        transition: background 0.5s ease, border 0.5s ease;
    }

    /* Backdrop blur pouze pro desktop - na mobilu je příliš náročný */
    @media (min-width: 769px) {
        .glass-panel {
            backdrop-filter: blur(16px);
            -webkit-backdrop-filter: blur(16px);
        }
    }

    .text-gradient {
        background: linear-gradient(135deg, #444 0%, #69C350 100%);
        -webkit-background-clip: text;
        background-clip: text;
        -webkit-text-fill-color: transparent;
    }

    .dark .text-gradient {
        background: linear-gradient(135deg, #fff 0%, #8EDE7A 100%);
        -webkit-background-clip: text;
        background-clip: text;
        -webkit-text-fill-color: transparent;
    }

    .glow {
        box-shadow: 0 0 25px rgba(105, 195, 80, 0.4);
    }

    .btn-magnetic {
        transition: transform 0.2s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    }

    .btn-magnetic:hover {
        transform: scale(1.05);
    }

    .scrollbar-hide::-webkit-scrollbar {
        display: none;
    }

    .scrollbar-hide {
        -ms-overflow-style: none;
        scrollbar-width: none;
    }

    .theme-transition {
        transition: all 0.5s ease;
    }

    /* Custom Premium Scrollbar - Enhanced Visibility */
    ::-webkit-scrollbar {
        width: 12px;
        height: 12px;
    }

    ::-webkit-scrollbar-track {
        background: rgba(0, 0, 0, 0.05);
        border-radius: 10px;
    }

    ::-webkit-scrollbar-thumb {
        background: rgba(105, 195, 80, 0.5);
        border-radius: 10px;
        border: 2px solid transparent;
        background-clip: content-box;
        transition: background 0.3s ease;
    }

    ::-webkit-scrollbar-thumb:hover {
        background: rgba(105, 195, 80, 0.7);
        background-clip: content-box;
    }

    .dark ::-webkit-scrollbar-track {
        background: rgba(255, 255, 255, 0.05);
    }

    .dark ::-webkit-scrollbar-thumb {
        background: rgba(149, 232, 125, 0.4);
    }

    .dark ::-webkit-scrollbar-thumb:hover {
        background: rgba(149, 232, 125, 0.6);
    }

    /* Firefox scrollbar styling */
    * {
        scrollbar-width: thin;
        scrollbar-color: rgba(105, 195, 80, 0.5) rgba(0, 0, 0, 0.05);
    }

    .dark * {
        scrollbar-color: rgba(149, 232, 125, 0.4) rgba(255, 255, 255, 0.05);
    }

    /* Premium Slider - Global Overrides for Range Inputs */
    .premium-slider {
        -webkit-appearance: none;
        appearance: none;
        background: transparent;
        cursor: pointer;
        outline: none;
        width: 100%;
        touch-action: none;
    }

    /* Track Styles */
    .premium-slider::-webkit-slider-runnable-track {
        height: 6px;
        border-radius: 9999px;
    }

    .premium-slider::-moz-range-track {
        height: 6px;
        border-radius: 9999px;
    }

    /* Thumb Styles - Optimized for Mobile (24px hit area) */
    .premium-slider::-webkit-slider-thumb {
        -webkit-appearance: none;
        appearance: none;
        width: 24px;
        height: 24px;
        background: #ffffff;
        border: 2px solid #69C350;
        border-radius: 50%;
        margin-top: -9px;
        /* (thumb height / 2) - (track height / 2) * -1 */
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        transition: transform 0.2s cubic-bezier(0.34, 1.56, 0.64, 1), box-shadow 0.2s ease;
    }

    .premium-slider::-moz-range-thumb {
        width: 24px;
        height: 24px;
        background: #ffffff;
        border: 2px solid #69C350;
        border-radius: 50%;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        transition: transform 0.2s cubic-bezier(0.34, 1.56, 0.64, 1), box-shadow 0.2s ease;
    }

    .premium-slider:active::-webkit-slider-thumb {
        transform: scale(1.2);
        box-shadow: 0 0 20px rgba(105, 195, 80, 0.4);
    }

    .premium-slider:active::-moz-range-thumb {
        transform: scale(1.2);
        box-shadow: 0 0 20px rgba(105, 195, 80, 0.4);
    }

    /* Circular View Transition for Theme Switch */
    ::view-transition-old(root),
    ::view-transition-new(root) {
        animation: none;
        mix-blend-mode: normal;
    }

    ::view-transition-old(root) {
        z-index: 1;
    }

    ::view-transition-new(root) {
        z-index: 999;
    }

    .dark::view-transition-old(root) {
        z-index: 999;
    }

    .dark::view-transition-new(root) {
        z-index: 1;
    }
}

/* Custom Circular Morph Animation */
@keyframes theme-expand {
    from {
        clip-path: circle(0% at var(--x) var(--y));
    }

    to {
        clip-path: circle(150% at var(--x) var(--y));
    }
}

@keyframes theme-collapse {
    from {
        clip-path: circle(150% at var(--x) var(--y));
    }

    to {
        clip-path: circle(0% at var(--x) var(--y));
    }
}